cmake_minimum_required(VERSION 2.8)
set(project_name nvTest)
find_package(CUDA)
set(CUDA_NVCC_FLAGS ${CUDA_NVCC_FLAGS};-gencode arch=compute_20,code=sm_20)
set(CUDA_ATTACH_VS_BUILD_RULE_TO_CUDA_FILE ON)
FILE(GLOB_RECURSE SRC_LIST "./*.cpp")     
FOREACH(src ${SRC_LIST})
MESSAGE( Find: ${src} )
ENDFOREACH(src)                                     
FILE(GLOB_RECURSE CUDA_SRC_LIST "./*.cu")         
FOREACH(src ${CUDA_SRC_LIST})
MESSAGE( Find: ${src} )
ENDFOREACH(src)

set(LIB_NAME "vecAdd")
FILE(GLOB HEADER_LISTS "./*.h")
CUDA_ADD_LIBRARY(${LIB_NAME} ${CUDA_SRC_LIST}) 

ADD_EXECUTABLE(${project_name} ${SRC_LIST})
TARGET_LINK_LIBRARIES(${project_name} ${LIB_NAME})  
